syntax = "proto3";

package omas.type;

import "google/protobuf/timestamp.proto";
import "google/protobuf/struct.proto";

option csharp_namespace = "Omas.Protos";


message Resource {

	//todo define stanalone resource

	string id = 1;

	//file name
	string display_name = 2 [json_name="label"]; 
	
	//content type as mime
	string type = 3; 

	//content size in bytes
	int32  size = 4; 

	//example: auto for autonomous assigned images
	repeated string tags = 5;

	google.protobuf.Timestamp modified_at = 7 [json_name="mts"];

	//crc32 hash of resource data
	fixed32 crc32 = 8; 

	oneof content {

		//content url
		string url = 10; 

		bytes data = 11;
	}

	//resized and preview images 
	repeated Resource thumbnails = 14 [json_name="thumbs"]; 

	map<string, google.protobuf.Value> attributes = 15 [json_name="atts"];

	google.protobuf.Value metadata = 25 [json_name="meta"];

	bool deleted = 30 [json_name="del"];
}